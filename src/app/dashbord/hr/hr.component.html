<!-- src/app/role/role.component.html -->
<!-- ========================= Main ==================== -->
<div class="main">
    <!-- Topbar -->
    <div class="topbar">
        <div class="toggle">
            <ion-icon name="menu-outline"></ion-icon>
        </div>
        <div class="search">
            <label>
                <input type="text" placeholder="Search here">
                <ion-icon name="search-outline"></ion-icon>
            </label>
        </div>
        <div class="user">
            <img src="assets/as/imgs/customer01.jpg" alt="">
        </div>
    </div>

    <!-- Main Content -->
    <div class="content">
        <!-- Form to add or update a role -->
        <div class="form-container">
            <h3>{{ editMode ? 'Update a Role' : 'Add a Role' }}</h3>
            <form (ngSubmit)="onSubmit()">
                <label>
                    Role Name:
                    <input type="text" [(ngModel)]="currentRole.name" name="name" placeholder="Enter role name" required>
                </label>
                <button type="submit">{{ editMode ? 'Update' : 'Add' }}</button>
                <button type="button" (click)="resetForm()" *ngIf="editMode">Cancel</button>
            </form>
        </div>

        <!-- Table to display roles -->
        <div class="table-container">
            <h3>List of Roles</h3>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let role of roles">
                        <td>{{ role.id }}</td>
                        <td>{{ role.name }}</td>
                        <td>
                            <button (click)="editRole(role)">Edit</button>
                            <button (click)="deleteRole(role.id!)">Delete</button>
                        </td>
                    </tr>
                    <tr *ngIf="roles.length === 0">
                        <td colspan="3">No roles found</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>